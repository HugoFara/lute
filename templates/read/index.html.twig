{% extends 'base.html.twig' %}

{% block title %}Read{% endblock %}

{% block body %}

<div id="reading-frames-left" style="width: 50%;">
  <div id="reading-header">
    <h2>
      {% if prevtext10 %}
      <a href="/read/{{ prevtext10.ID }}" title="{{ prevtext10.Title }}" tabindex="-1">&#171;</a>
      {% else %}
      <span style="color: lightgrey;">&#171;</span>
      {% endif %}

      {% if prevtext %}
      <a href="/read/{{ prevtext.ID }}" title="{{ prevtext.Title }}" tabindex="-1">&#8249;</a>
      {% else %}
      <span style="color: lightgrey;">&#8249;</span>
      {% endif %}

      {{ text.Title }}
      
      <a href="/text/{{ text.ID }}/edit" tabindex="-1">
        <img src="/icn/document--pencil.png" title="Edit" alt="Edit" />
      </a>

      {% if nexttext %}
      <a href="/read/{{ nexttext.ID }}" title="{{ nexttext.Title }}" tabindex="-1">&#8250;</a>
      {% else %}
      <span style="color: lightgrey;">&#8250;</span>
      {% endif %}

      {% if nexttext10 %}
      <a href="/read/{{ nexttext10.ID }}" title="{{ nexttext10.Title }}" tabindex="-1">&#187;</a>
      {% else %}
      <span style="color: lightgrey;">&#187;</span>
      {% endif %}

    </h2>

    <!-- Lacking css skills, so table layout to the rescue. -->
    <table style="width: 100%">
      <tr>
        <td>
          <form action="/read/{{ text.ID }}/allknown" method="post" style="float:left;">
            <button
              type="submit"
              name="fallknown"
              onclick="return confirm('Setting all to unknown words to known.  OK?');"
              tabindex="-1">Set all to known</button>
          </form>
        </td>
        <td align="right">
          <img src="/icn/question-balloon.png" onclick="show_help(); return false;" title="Keyboard shortcuts" />
        </td>
      </tr>
    </table>

    <hr />

  </div>

  {{ render(url('app_read_text', { 'TxID': text.ID })) }}

  <div id="reading-footer">
    <h2 style="text-align: center;">
      {% if nexttext %}
      <a href="/read/{{ nexttext.ID }}" title="{{ nexttext.Title }}" tabindex="-1">&#8250;</a>
      {% else %}
      &#127881;
      {% endif %}
    </h2>
  </div>
  
</div>


<div id="reading-frames-right" style="position: fixed; top: 0; right: 0; height: 95%; 
width: 50%;">
    <iframe name="wordframe" class="rightreadingframe" src="about:blank" scrolling="auto"
            style="height: 35%; width: 100%;" frameBorder="0">
      Frame support required.
    </iframe>

    <iframe name="dictframe" class="rightreadingframe" src="about:blank" scrolling="auto"
            style="height: 65%; width: 100%;" frameBorder="0">
      Frame support required.
    </iframe>
</div>

{% endblock %}
